<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisionKrono - Gest√£o de Eventos</title>
    <link rel="stylesheet" href="events.css">
</head>
<body>
    <div class="events-app">
        <header class="header">
            <h1>üèÉ‚Äç‚ôÇÔ∏è VisionKrono - Gest√£o de Eventos</h1>
            <div class="header-actions">
                <button id="toggleLiveStreamMainBtn" class="btn livestream" disabled title="Selecione um evento primeiro">
                    üé• Live Stream
                </button>
                <button id="newEventBtn" class="btn primary">+ Novo Evento</button>
                <button id="refreshBtn" class="btn secondary">üîÑ Atualizar</button>
            </div>
        </header>
        
        <main class="main-content">
            <!-- Lista de eventos -->
            <section class="events-section">
                <h2>üìÖ Eventos</h2>
                <div class="events-grid" id="eventsGrid">
                    <div class="loading">Carregando eventos...</div>
                </div>
            </section>
            
            <!-- Estat√≠sticas gerais -->
            <section class="stats-section">
                <h2>üìä Estat√≠sticas Gerais</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalEvents">0</div>
                        <div class="stat-label">Eventos Ativos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalDevices">0</div>
                        <div class="stat-label">Dispositivos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalDetections">0</div>
                        <div class="stat-label">Total Detec√ß√µes</div>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Modal para criar/editar evento -->
        <div id="eventModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Novo Evento</h2>
                    <button id="closeModalBtn" class="close-btn">&times;</button>
                </div>
                
                <div class="modal-body">
                    <form id="eventForm">
                        <div class="form-group">
                            <label for="eventName">Nome do Evento *</label>
                            <input type="text" id="eventName" required placeholder="Ex: Maratona do Porto 2025">
                        </div>
                        
                        <div class="form-group">
                            <label for="eventDescription">Descri√ß√£o</label>
                            <textarea id="eventDescription" placeholder="Descri√ß√£o do evento..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventDate">Data do Evento</label>
                                <input type="date" id="eventDate">
                            </div>
                            
                            <div class="form-group">
                                <label for="eventLocation">Localiza√ß√£o</label>
                                <input type="text" id="eventLocation" placeholder="Porto, Portugal">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="cancelBtn" class="btn secondary">Cancelar</button>
                            <button type="submit" class="btn primary">Criar Evento</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Modal de detalhes do evento -->
        <div id="eventDetailsModal" class="modal" style="display: none;">
            <div class="modal-content large">
                <div class="modal-header">
                    <h2 id="eventDetailsTitle">Detalhes do Evento</h2>
                    <button id="closeDetailsBtn" class="close-btn">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="event-details-grid">
                        <!-- Informa√ß√µes do evento -->
                        <div class="event-info">
                            <h3>‚ÑπÔ∏è Informa√ß√µes</h3>
                            <div id="eventInfo">Carregando...</div>
                        </div>
                        
                        <!-- Dispositivos associados -->
                        <div class="event-devices">
                            <h3>üì± Dispositivos</h3>
                            <div class="devices-actions">
                                <button id="addDeviceBtn" class="btn small">+ Adicionar Dispositivo</button>
                                <button id="generateQRBtn" class="btn small">üì± QR Code</button>
                                <button id="removeDeviceBtn" class="btn small danger">üóëÔ∏è Remover</button>
                            </div>
                            <div class="device-links">
                                <h4>üîó Links Diretos para Dispositivos:</h4>
                                <div id="deviceLinksList">Carregando links...</div>
                            </div>
                            <div id="devicesList">Carregando...</div>
                        </div>
                        
                        <!-- Configura√ß√µes do evento -->
                        <div class="event-config">
                            <h3>‚öôÔ∏è Configura√ß√µes</h3>
                            <div class="config-actions">
                                <button id="configPatternBtn" class="btn small">üî¢ Padr√£o Dorsais</button>
                                <button id="uploadPhotoBtn" class="btn small">üì∏ Foto Refer√™ncia</button>
                                <button id="configAreaBtn" class="btn small">üìè √Årea do N√∫mero</button>
                                <button id="calibrateParamsBtn" class="btn small">üîß Calibrar IA</button>
                                <button id="configDetectionModeBtn" class="btn small">ü§ñ Modo Detec√ß√£o</button>
                            </div>
                        </div>
                        
                        <!-- Controle de Timing -->
                        <div class="event-timing">
                            <h3>‚è±Ô∏è Controle de Evento</h3>
                            <div class="timing-info">
                                <div class="info-row">
                                    <label>Status:</label>
                                    <span id="eventTimingStatus">N√£o iniciado</span>
                                </div>
                                <div class="info-row">
                                    <label>In√≠cio Configurado:</label>
                                    <span id="eventScheduledTime">--:--</span>
                                </div>
                                <div class="info-row">
                                    <label>In√≠cio Real:</label>
                                    <span id="eventStartTime">--:--</span>
                                </div>
                                <div class="info-row">
                                    <label>Dura√ß√£o:</label>
                                    <span id="eventDuration">00:00:00</span>
                                </div>
                                <div class="info-row">
                                    <label>Pr√≥ximo In√≠cio:</label>
                                    <span id="nextStartTime">--:--</span>
                                </div>
                            </div>
                            
                            <!-- Configura√ß√£o de Hor√°rio -->
                            <div class="timing-config">
                                <h4>üìÖ Configurar Hor√°rio de In√≠cio</h4>
                                <div class="config-row">
                                    <label for="eventDate">Data:</label>
                                    <input type="date" id="eventDate" class="config-input">
                                </div>
                                <div class="config-row">
                                    <label for="eventTime">Hora:</label>
                                    <input type="time" id="eventTime" class="config-input">
                                </div>
                                <div class="config-row">
                                    <label for="autoStartEnabled">In√≠cio Autom√°tico:</label>
                                    <input type="checkbox" id="autoStartEnabled" checked>
                                </div>
                                <button id="saveTimingConfigBtn" class="btn small">
                                    üíæ Salvar Configura√ß√£o
                                </button>
                            </div>
                            
                            <div class="timing-controls">
                                <button id="startEventBtn" class="btn success" disabled>
                                    üöÄ Iniciar Agora
                                </button>
                                <button id="stopEventBtn" class="btn danger" disabled>
                                    ‚èπÔ∏è Parar Evento
                                </button>
                                <button id="resetEventBtn" class="btn secondary" disabled>
                                    üîÑ Reset
                                </button>
                            </div>
                        </div>
                        
                        <!-- Ordem de Dispositivos -->
                        <div class="device-sequence">
                            <h3>üìç Ordem dos Dispositivos</h3>
                            <div class="sequence-info">
                                <p>Configure a ordem dos checkpoints:</p>
                                <div id="deviceSequenceList" class="sequence-list">
                                    <!-- Lista ser√° preenchida dinamicamente -->
                                </div>
                                <button id="editSequenceBtn" class="btn small">
                                    ‚úèÔ∏è Editar Ordem
                                </button>
                            </div>
                        </div>
                            <div id="configStatus">Carregando...</div>
                        </div>
                        
                        <!-- Navega√ß√£o R√°pida -->
                        <div class="quick-navigation">
                            <h3>üöÄ Navega√ß√£o R√°pida</h3>
                            <div class="nav-grid">
                                <a href="/" class="nav-card">
                                    <div class="nav-icon">üè†</div>
                                    <div class="nav-info">
                                        <div class="nav-title">Home</div>
                                        <div class="nav-description">P√°gina inicial</div>
                                    </div>
                                </a>
                                <a href="/calibration" class="nav-card">
                                    <div class="nav-icon">üîß</div>
                                    <div class="nav-info">
                                        <div class="nav-title">Calibra√ß√£o</div>
                                        <div class="nav-description">Configurar detec√ß√£o</div>
                                    </div>
                                </a>
                                <a href="/detection" class="nav-card">
                                    <div class="nav-icon">üì±</div>
                                    <div class="nav-info">
                                        <div class="nav-title">Detec√ß√£o</div>
                                        <div class="nav-description">Capturar dorsais</div>
                                    </div>
                                </a>
                                <a href="/image-processor" class="nav-card">
                                    <div class="nav-icon">ü§ñ</div>
                                    <div class="nav-info">
                                        <div class="nav-title">Processador</div>
                                        <div class="nav-description">Processar imagens</div>
                                    </div>
                                </a>
                        <a href="/classifications" class="nav-card">
                            <div class="nav-icon">üèÜ</div>
                            <div class="nav-info">
                                <div class="nav-title">Classifica√ß√µes</div>
                                <div class="nav-description">Ranking em tempo real</div>
                            </div>
                        </a>
                        <a href="/category-rankings" class="nav-card">
                            <div class="nav-icon">üèÖ</div>
                            <div class="nav-info">
                                <div class="nav-title">Rankings por Categoria</div>
                                <div class="nav-description">Classifica√ß√µes por categoria</div>
                            </div>
                        </a>
                        <a href="/participants" class="nav-card">
                            <div class="nav-icon">üë•</div>
                            <div class="nav-info">
                                <div class="nav-title">Participantes</div>
                                <div class="nav-description">Gest√£o de participantes</div>
                            </div>
                        </a>
                        <button id="toggleLiveStreamBtn" class="nav-card live-stream-btn" onclick="toggleLiveStreamPanel()">
                            <div class="nav-icon">üé•</div>
                            <div class="nav-info">
                                <div class="nav-title">Live Stream</div>
                                <div class="nav-description">Streams ao vivo</div>
                            </div>
                        </button>
                        <a href="/database-management" class="nav-card">
                            <div class="nav-icon">üóÑÔ∏è</div>
                            <div class="nav-info">
                                <div class="nav-title">Gest√£o BD</div>
                                <div class="nav-description">Gerir base de dados</div>
                            </div>
                        </a>
                                <a href="/detection-debug" class="nav-card">
                                    <div class="nav-icon">üêõ</div>
                                    <div class="nav-info">
                                        <div class="nav-title">Debug</div>
                                        <div class="nav-description">Depurar detec√ß√£o</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <!-- Status das Requisi√ß√µes -->
                        <div class="request-status">
                            <h3>üìä Status das Requisi√ß√µes</h3>
                            <div class="status-grid">
                                <div class="status-card">
                                    <div class="status-icon">üìã</div>
                                    <div class="status-info">
                                        <div class="status-number" id="queueLength">0</div>
                                        <div class="status-label">Na Fila</div>
                                    </div>
                                </div>
                                <div class="status-card">
                                    <div class="status-icon">üîÑ</div>
                                    <div class="status-info">
                                        <div class="status-number" id="processingCount">0</div>
                                        <div class="status-label">Processando</div>
                                    </div>
                                </div>
                                <div class="status-card">
                                    <div class="status-icon">‚úÖ</div>
                                    <div class="status-info">
                                        <div class="status-number" id="completedCount">0</div>
                                        <div class="status-label">Conclu√≠das</div>
                                    </div>
                                </div>
                                <div class="status-card">
                                    <div class="status-icon">‚ùå</div>
                                    <div class="status-info">
                                        <div class="status-number" id="errorCount">0</div>
                                        <div class="status-label">Erros</div>
                                    </div>
                                </div>
                            </div>
                            <div class="status-actions">
                                <button id="clearQueueBtn" class="btn small danger">üßπ Limpar Fila</button>
                                <button id="refreshStatusBtn" class="btn small">üîÑ Atualizar</button>
                            </div>
                        </div>
                        
                        <!-- Detec√ß√µes em tempo real -->
                        <div class="event-detections">
                            <h3>üéØ Detec√ß√µes em Tempo Real</h3>
                            <div class="detections-stats">
                                <span>Total: <strong id="eventTotalDetections">0</strong></span>
                                <span>√öltima: <strong id="eventLastDetection">--:--</strong></span>
                                <button id="clearDetectionsBtn" class="btn small danger">üóëÔ∏è Limpar Detec√ß√µes</button>
                                <button id="clearBufferBtn" class="btn small danger">üóëÔ∏è Limpar Buffer</button>
                            </div>
                            <div id="eventDetectionsList" class="detections-list">
                                Aguardando detec√ß√µes...
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button id="pauseEventBtn" class="btn secondary">‚è∏Ô∏è Pausar Evento</button>
                        <button id="completeEventBtn" class="btn accent">‚úÖ Finalizar Evento</button>
                        <button id="exportEventBtn" class="btn primary">üìÑ Exportar Dados</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Modal para configurar modo de detec√ß√£o -->
        <div id="detectionModeModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ü§ñ Configurar Modo de Detec√ß√£o</h2>
                    <button id="closeDetectionModeModalBtn" class="close-btn">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="detection-mode-config">
                        <p>Escolha o m√©todo de detec√ß√£o para este evento:</p>
                        
                        <div class="mode-options">
                            <label class="mode-option">
                                <input type="radio" name="detectionMode" value="gemini" checked>
                                <div class="mode-card">
                                    <div class="mode-icon">üíé</div>
                                    <div class="mode-info">
                                        <h3>Gemini AI</h3>
                                        <p>IA avan√ßada com processamento em lote. Melhor precis√£o para m√∫ltiplas imagens.</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="mode-option">
                                <input type="radio" name="detectionMode" value="google">
                                <div class="mode-card">
                                    <div class="mode-icon">üîç</div>
                                    <div class="mode-info">
                                        <h3>Google Vision</h3>
                                        <p>Detec√ß√£o em tempo real. Ideal para detec√ß√£o individual r√°pida.</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="mode-option">
                                <input type="radio" name="detectionMode" value="hybrid">
                                <div class="mode-card">
                                    <div class="mode-icon">üîÑ</div>
                                    <div class="mode-info">
                                        <h3>H√≠brido</h3>
                                        <p>Combina QR Code + Google Vision. M√°xima compatibilidade.</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="mode-option">
                                <input type="radio" name="detectionMode" value="qr">
                                <div class="mode-card">
                                    <div class="mode-icon">üì±</div>
                                    <div class="mode-info">
                                        <h3>QR Code</h3>
                                        <p>Detec√ß√£o de QR codes com IA. Para dorsais com c√≥digos QR.</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="mode-option">
                                <input type="radio" name="detectionMode" value="ocr">
                                <div class="mode-card">
                                    <div class="mode-icon">üìù</div>
                                    <div class="mode-info">
                                        <h3>OCR Nativo</h3>
                                        <p>Processamento local sem internet. Mais lento mas offline.</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                        
                        <div class="mode-settings">
                            <h3>‚öôÔ∏è Configura√ß√µes Avan√ßadas</h3>
                            <div class="setting-group">
                                <label>
                                    <input type="checkbox" id="bufferModeEnabled" checked>
                                    Usar sistema de buffer (recomendado para Gemini)
                                </label>
                                <p class="setting-description">
                                    Captura imagens continuamente e processa em lotes para melhor efici√™ncia.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button id="saveDetectionModeBtn" class="btn primary">üíæ Salvar Configura√ß√£o</button>
                    <button id="cancelDetectionModeBtn" class="btn secondary">‚ùå Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Painel de Live Stream -->
    <div id="livestream-panel">
        <div class="livestream-header">
            <h2>üé• Live Stream</h2>
            <button class="livestream-close" onclick="toggleLiveStreamPanel()">&times;</button>
        </div>
        <div class="livestream-content">
            <div class="livestream-section">
                <h3>üì± Dispositivos Online</h3>
                <div id="livestream-devices-list">
                    <div class="no-devices">
                        <div style="font-size: 3rem; margin-bottom: 10px;">üì±</div>
                        <div>Carregando...</div>
                    </div>
                </div>
            </div>
            <div class="livestream-section">
                <h3>üì∫ Streams Ativos</h3>
                <div id="livestream-videos"></div>
            </div>
        </div>
    </div>
    
    <!-- Fun√ß√£o Global para Live Stream (antes de outros scripts) -->
    <script>
        // Vari√°vel global para rastrear bot√£o
        let liveStreamButton = null;
        let currentLiveStreamEventId = null;
        
        // Fun√ß√£o para ativar/desativar bot√£o Live Stream
        window.updateLiveStreamButton = function(eventId) {
            if (!liveStreamButton) {
                liveStreamButton = document.getElementById('toggleLiveStreamMainBtn');
            }
            
            if (liveStreamButton) {
                if (eventId) {
                    liveStreamButton.disabled = false;
                    liveStreamButton.title = 'Abrir painel Live Stream';
                    currentLiveStreamEventId = eventId;
                    console.log('‚úÖ Bot√£o Live Stream ativado para evento:', eventId);
                } else {
                    liveStreamButton.disabled = true;
                    liveStreamButton.title = 'Selecione um evento primeiro';
                    currentLiveStreamEventId = null;
                    console.log('‚ö†Ô∏è Bot√£o Live Stream desativado');
                }
            }
        };
        
        // Fun√ß√£o para abrir/fechar painel de livestream
        function toggleLiveStreamPanel() {
            console.log('üé• toggleLiveStreamPanel chamada');
            
            const panel = document.getElementById('livestream-panel');
            console.log('üì± Painel encontrado:', !!panel);
            
            // Obter eventId do evento selecionado
            const eventId = window.eventsApp && window.eventsApp.selectedEvent 
                ? window.eventsApp.selectedEvent.id 
                : currentLiveStreamEventId;
            
            console.log('üèÉ Evento selecionado:', eventId);
            
            if (!eventId) {
                alert('Por favor, selecione um evento primeiro.\n\nClique num evento da lista abaixo para ativar o Live Stream.');
                return;
            }
            
            // Abrir/fechar painel
            const wasActive = panel.classList.contains('active');
            panel.classList.toggle('active');
            console.log('üé• Painel ativo:', panel.classList.contains('active'));
            
            // Atualizar texto do bot√£o
            if (liveStreamButton) {
                liveStreamButton.textContent = panel.classList.contains('active') ? '‚úñÔ∏è Fechar Live Stream' : 'üé• Live Stream';
            }
            
            // Inicializar viewer na primeira vez que abre
            if (panel.classList.contains('active') && !wasActive) {
                if (!window.liveStreamViewer) {
                    console.log('üé• Inicializando Live Stream Viewer para evento:', eventId);
                    window.liveStreamViewer = new LiveStreamViewer();
                    window.liveStreamViewer.init(eventId).then(() => {
                        console.log('‚úÖ Live Stream Viewer inicializado');
                    }).catch(err => {
                        console.error('‚ùå Erro ao inicializar viewer:', err);
                        alert('Erro ao conectar Live Stream. Verifique console (F12).');
                    });
                } else {
                    // Se j√° existe mas √© para outro evento, reinicializar
                    if (window.liveStreamViewer.eventId !== eventId) {
                        console.log('üé• Trocando evento do Live Stream Viewer');
                        window.liveStreamViewer.cleanup();
                        window.liveStreamViewer = new LiveStreamViewer();
                        window.liveStreamViewer.init(eventId);
                    } else {
                        console.log('‚úÖ Live Stream Viewer j√° inicializado para este evento');
                    }
                }
            }
        }
        
        // Inicializar bot√£o quando DOM carregar
        document.addEventListener('DOMContentLoaded', () => {
            liveStreamButton = document.getElementById('toggleLiveStreamMainBtn');
            if (liveStreamButton) {
                liveStreamButton.addEventListener('click', toggleLiveStreamPanel);
                console.log('‚úÖ Bot√£o Live Stream configurado');
            }
        });
    </script>
    
    <script src="supabase.js"></script>
    <script src="events.js"></script>
    
    <!-- Socket.IO para Live Stream -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Sistema Live Stream Moderno -->
    <script src="livestream-viewer.js"></script>
    
    <!-- Estilos para Live Stream -->
    <style>
        /* Container de Live Stream */
        #livestream-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            border-left: 2px solid #00ff88;
            z-index: 10000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        #livestream-panel.active {
            right: 0;
        }
        
        .livestream-header {
            padding: 20px;
            background: rgba(0, 255, 136, 0.1);
            border-bottom: 1px solid rgba(0, 255, 136, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .livestream-header h2 {
            color: #00ff88;
            margin: 0;
            font-size: 1.2rem;
        }
        
        .livestream-close {
            background: none;
            border: none;
            color: #00ff88;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
        }
        
        .livestream-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .livestream-section {
            margin-bottom: 30px;
        }
        
        .livestream-section h3 {
            color: #fff;
            font-size: 1rem;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 5px;
        }
        
        #livestream-devices-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .device-card {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
        }
        
        .device-info {
            margin-bottom: 10px;
        }
        
        .device-name {
            color: #fff;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .device-status {
            font-size: 0.9rem;
            margin-bottom: 3px;
        }
        
        .device-status.online {
            color: #00ff88;
        }
        
        .connection-status {
            font-size: 0.8rem;
            color: #888;
        }
        
        .device-actions {
            display: flex;
            gap: 8px;
        }
        
        .btn-start, .btn-stop {
            flex: 1;
            padding: 8px 12px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .btn-start {
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            color: #00ff88;
        }
        
        .btn-start:hover {
            background: rgba(0, 255, 136, 0.3);
        }
        
        .btn-stop {
            background: rgba(255, 68, 68, 0.2);
            border: 1px solid #ff4444;
            color: #ff4444;
        }
        
        .btn-stop:hover {
            background: rgba(255, 68, 68, 0.3);
        }
        
        .no-devices {
            text-align: center;
            padding: 40px 20px;
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Container de v√≠deos */
        #livestream-videos {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .stream-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .stream-header {
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .stream-title {
            color: #fff;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .stream-indicator {
            color: #ff4444;
            font-size: 0.8rem;
            font-weight: bold;
            animation: pulse 1.5s infinite;
        }
        
        .stream-container video {
            width: 100%;
            height: 250px;
            background: #000;
            object-fit: cover;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</body>
</html>
